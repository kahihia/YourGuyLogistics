/*! Vendor-Webaap - v0.0.0 - 2016-01-01 */
!function(){"use strict";var a=function(a,b,c,d,e){this.userLogin=function(){var a={username:this.username,password:this.password};b.login(a).then(function(a){console.log(a.data),d.$reset(),d.token=a.data.auth_token,console.log(e.userrole)})}};angular.module("login",[]).config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"/static/modules/login/login.html",controllerAs:"login",controller:"LoginCntrl"})}]).controller("LoginCntrl",["$state","AuthService","UserData","$localStorage","role",a])}(),function(){"use strice";angular.module("login").factory("AuthService",["$http","constants",function(a,b){return{login:function(c){return a.post(b.v1baseUrl+"auth/login/",c)}}}])}(),function(){"use strict";
// Declare all the app level modules which depend on the different filters and services
angular.module("ygVendorApp",["ui.router","ngStorage","base64","login"]).config(["$urlRouterProvider","$locationProvider",function(a,b){
// For any unmatched url, redirect to /login
a.otherwise("/login"),b.html5Mode(!0).hashPrefix("!")}])}(),function(){"use strice";var a={role:"",token:""};angular.module("ygVendorApp").constant("UserData",a)}(),function(){"use strice";var a={v1baseUrl:"/api/v1/",v2baseUrl:"/api/v2/",v3baseUrl:"/api/v3/"};angular.module("ygVendorApp").constant("constants",a)}(),function(){"use strict";angular.module("ygVendorApp").factory("errorHandler",["$q","$localStorage","$location",function(a,b,c){var d={responseError:function(d){return(401===d.status||403===d.status)&&(b.$reset(),c.path("/login")),console.log(d),a.reject(d)}};return d}]).config(["$httpProvider",function(a){a.interceptors.push("errorHandler")}])}(),function(){"use strict";angular.module("ygVendorApp").factory("tokenInjector",["$localStorage",function(a){var b={request:function(b){return b.headers=b.headers||{},a.token&&(b.headers.Authorization="Token "+a.token),b}};return b}]).config(["$httpProvider",function(a){a.interceptors.push("tokenInjector")}])}(),function(){"use strice";var a=function(a,b){var c;return{setUserRole:function(){var d=a.decode(b.get("token"));c=d},$get:function(){return{userrole:c}}}};angular.module("ygVendorApp").provider("role",["$base64","$localStorageProvider",a])}();
//# sourceMappingURL=main.min.js.map