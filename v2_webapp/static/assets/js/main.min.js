/*! Vendor-Webaap - v0.0.0 - 2016-01-04 */
!function(){"use strict";var a=function(a,b,c,d,e){this.userLogin=function(){var a={username:this.username,password:this.password};b.login(a).then(function(a){console.log(a.data),d.token=a.data.auth_token,e.$refresh().then(function(a){console.log(a)})})}};angular.module("login",[]).config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"/static/modules/login/login.html",controllerAs:"login",controller:"LoginCntrl",resolve:{vendorClients:"vendorClients"}})}]).controller("LoginCntrl",["$state","AuthService","UserData","$localStorage","vendorClients",a])}(),function(){"use strice";var a=function(a,b){return{login:function(c){return a.post(b.v1baseUrl+"auth/login/",c)}}};angular.module("login").factory("AuthService",["$http","constants",a])}(),function(){"use strict";
// Declare all the app level modules which depend on the different filters and services
angular.module("ygVendorApp",["ui.router","ngStorage","ngResource","base64","login"]).config(["$urlRouterProvider","$locationProvider",function(a,b){
// For any unmatched url, redirect to /login
a.otherwise("/login"),b.html5Mode(!0).hashPrefix("!")}])}(),function(){"use strice";var a={role:"",token:""};angular.module("ygVendorApp").constant("UserData",a)}(),function(){"use strice";var a={v1baseUrl:"/api/v1/",v2baseUrl:"/api/v2/",v3baseUrl:"/api/v3/"};angular.module("ygVendorApp").constant("constants",a)}(),function(){"use strict";var a=function(a,b){return a(b.v1baseUrl+"vendor/:id",{id:"@id"},{profile:{method:"GET"}})};angular.module("ygVendorApp").factory("Vendor",["$resource","constants",a])}(),function(){"use strict";var a=function(a,b,c){var d={responseError:function(d){return(401===d.status||403===d.status)&&(b.$reset(),c.path("/login")),a.reject(d)}};return d};angular.module("ygVendorApp").factory("errorHandler",["$q","$localStorage","$location",a]).config(["$httpProvider",function(a){a.interceptors.push("errorHandler")}])}(),function(){"use strict";var a=function(a){var b={request:function(b){return b.headers=b.headers||{},a.token&&(b.headers.Authorization="Token "+a.token),b}};return b};angular.module("ygVendorApp").factory("tokenInjector",["$localStorage",a]).config(["$httpProvider",function(a){a.interceptors.push("tokenInjector")}])}(),function(){"use strict";var a=function(a,b){var c={},d=function(){var e=a.defer();return b.profile(function(a){e.resolve(angular.extend(c,a,{data:"vendor",$refresh:d}))}),e.promise};return d()};angular.module("ygVendorApp").factory("vendorClients",["$q","Vendor",a])}(),function(){"use strice";var a=function(a,b){var c;return{setUserRole:function(){var d=a.decode(b.get("token"));c=d},$get:function(){return{userrole:c}}}};angular.module("ygVendorApp").provider("role",["$base64","$localStorageProvider",a])}();
//# sourceMappingURL=main.min.js.map