/*! Vendor-Webaap - v0.0.0 - 2016-03-11 */
!function() {
    "use strict";
    var a = function(a, b, c, d, e) {
        this.loader = !1, this.userLogin = function() {
            this.loader = !0;
            var f = this, g = {
                username: this.username,
                password: this.password
            };
            b.login(g).then(function(b) {
                d.token = b.data.payload.data.auth_token, c.$refresh().then(function(b) {
                    b.role === e.userRole.OPS_MANAGER || b.role === e.userRole.OPS ? a.go("home.opsorder") : b.role === e.userRole.VENDOR ? a.go("home.order") : b.role === e.userRole.HR && a.go("home.dgList");
                });
            }, function(a) {
                f.loader = !1, f.error_message = a.data.error.message;
            });
        };
    };
    angular.module("login", []).config([ "$stateProvider", function(a) {
        a.state("login", {
            url: "/login",
            templateUrl: "/static/modules/login/login.html",
            controllerAs: "login",
            controller: "LoginCntrl",
            resolve: {
                UserProfile: "UserProfile",
                access: [ "Access", function(a) {
                    return a.isAnonymous();
                } ]
            }
        });
    } ]).controller("LoginCntrl", [ "$state", "AuthService", "UserProfile", "$localStorage", "constants", a ]);
}(), function() {
    "use strice";
    var a = function(a, b) {
        return {
            login: function(c) {
                return a.post(b.v3baseUrl + "login/", c);
            }
        };
    };
    angular.module("login").factory("AuthService", [ "$http", "constants", a ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d, e, f, g) {
        AWS.config.update({
            accessKeyId: f.ACCESS_KEY,
            secretAccessKey: f.SECRET_KEY
        });
        var h = this;
        this.tabs = f.permissible_tabs[g.$getUserRole()], this.user_name = g.$getUsername();
        var i = d.confirm().parent(angular.element(document.querySelector("#body"))).clickOutsideToClose(!1).title("Are you sure you want to Sign Out?").textContent("After this you will be redirected to login page.").ariaLabel("Sign Out").targetEvent().ok("Sign Out!").cancel("Not Now").openFrom("#logout-button").closeTo("#logout-button");
        this.toggleSideNav = function() {
            c("left").toggle();
        }, this.logout = function() {
            g.$clearUserRole(), g.$refresh().then(function(a) {
                b.go("login");
            });
        }, this.showLogoutDialog = function() {
            d.show(i).then(function() {
                h.logout();
            });
        }, a.$on("errorOccured", function() {
            a.errorMessage && e.show({
                controller: "ErrorToastCntrl",
                controllerAs: "errorToast",
                templateUrl: "/static/modules/home/error-toast-template.html",
                hideDelay: 6e3,
                position: "top right"
            });
        });
    };
    angular.module("home", []).config([ "$stateProvider", function(a) {
        a.state("home", {
            url: "/home",
            templateUrl: "/static/modules/home/home.html",
            controllerAs: "home",
            controller: "homeCntrl",
            resolve: {
                access: [ "Access", function(a) {
                    return a.isAuthenticated();
                } ],
                UserProfile: "UserProfile"
            }
        });
    } ]).controller("homeCntrl", [ "$rootScope", "$state", "$mdSidenav", "$mdDialog", "$mdToast", "constants", "UserProfile", a ]).controller("ErrorToastCntrl", [ "$mdToast", "$rootScope", function(a, b) {
        this.msg = b.errorMessage, this.closeToast = function() {
            a.hide();
        };
    } ]);
}(), function() {
    "use strict";
    var a = function(a, b, c) {};
    angular.module("forbidden", []).config([ "$stateProvider", function(a) {
        a.state("forbidden", {
            url: "/forbidden",
            templateUrl: "/static/modules/forbidden/forbidden.html",
            controllerAs: "forbidden",
            controller: "forbiddenCntrl"
        });
    } ]).controller("forbiddenCntrl", [ "$state", a ]);
}(), function() {
    "use strict";
    angular.module("ygVendorApp", [ "ngMaterial", "ngMessages", "ui.router", "ngStorage", "ngResource", "base64", "login", "home", "order", "deliveryguy", "vendor", "forbidden" ]).config([ "$urlRouterProvider", "$locationProvider", "$resourceProvider", "$mdThemingProvider", "roleProvider", function(a, b, c, d, e) {
        a.otherwise("/home"), b.html5Mode(!0).hashPrefix("!"), c.defaults.stripTrailingSlashes = !1, 
        e.$get().$setUserRole(), d.definePalette("ygBlue", {
            "50": "EEFDFD",
            "100": "E9F5F5",
            "200": "C8EEF8",
            "300": "89DAF1",
            "400": "6DD2ED",
            "500": "52C9EA",
            "600": "37C0E7",
            "700": "1CB8E3",
            "800": "18A2CB",
            "900": "158CAD",
            A100: "C4EEF9",
            A200: "78D7EF",
            A400: "1FC0E7",
            A700: "31AEF7",
            contrastDefaultColor: "light",
            contrastDarkColors: [ "50", "100", "200", "300", "400", "A100" ],
            contrastLightColors: void 0
        }), d.definePalette("ygOrange", {
            "50": "FFF9F1",
            "100": "FF7CEC",
            "200": "FFEED6",
            "300": "FDD9A6",
            "400": "FDCD88",
            "500": "FCC06A",
            "600": "FBB34C",
            "700": "FBA72E",
            "800": "FA9A10",
            "900": "E78A05",
            A100: "FFF6CF",
            A200: "FFF0C7",
            A400: "FDD393",
            A700: "FBB134",
            contrastDefaultColor: "dark",
            contrastDarkColors: [ "50", "100", "200", "300", "400", "A100" ],
            contrastLightColors: void 0
        }), d.theme("ygBlueTheme").primaryPalette("ygBlue", {
            "default": "700",
            "hue-1": "100",
            "hue-2": "600",
            "hue-3": "A100"
        }).accentPalette("ygOrange", {
            "default": "500"
        }).warnPalette("red"), d.setDefaultTheme("ygBlueTheme");
    } ]);
}(), function() {
    "use strice";
    var a = {
        role: "",
        token: ""
    };
    angular.module("ygVendorApp").constant("UserData", a);
}(), function() {
    "use strict";
    var a = {
        operations: {
            order: !0,
            dg: !0,
            vendor: !0,
            reports: !0,
            COD: !1,
            customer: !1,
            products: !1,
            feedback: !0,
            tutorial: !1,
            notification: !0
        },
        vendor: {
            order: !0,
            dg: !1,
            vendor: !1,
            reports: !0,
            COD: !1,
            customer: !0,
            products: !0,
            feedback: !0,
            tutorial: !0,
            notification: !1
        },
        hr: {
            order: !1,
            dg: !0,
            vendor: !0,
            reports: !1,
            COD: !1,
            customer: !1,
            products: !1,
            feedback: !1,
            tutorial: !1,
            notification: !1
        },
        operations_manager: {
            order: !0,
            dg: !0,
            vendor: !0,
            reports: !0,
            COD: !1,
            customer: !1,
            products: !1,
            feedback: !0,
            tutorial: !1,
            notification: !0
        },
        accounts: {
            order: !0,
            dg: !0,
            vendor: !0,
            reports: !0,
            COD: !0,
            customer: !1,
            products: !1,
            feedback: !1,
            tutorial: !1,
            notification: !1
        },
        sales: {
            order: !0,
            dg: !0,
            vendor: !0,
            reports: !0,
            COD: !1,
            customer: !1,
            products: !1,
            feedback: !0,
            tutorial: !1,
            notification: !1
        },
        sales_manager: {
            order: !0,
            dg: !0,
            vendor: !0,
            reports: !0,
            COD: !1,
            customer: !1,
            products: !1,
            feedback: !0,
            tutorial: !1,
            notification: !0
        }
    }, b = [ {
        status: "Intransit",
        value: "INTRANSIT"
    }, {
        status: "Queued",
        value: "QUEUED",
        selected: !1
    }, {
        status: "Delivered",
        value: "DELIVERED",
        selected: !1
    }, {
        status: "Order Placed",
        value: "ORDER_PLACED",
        selected: !1
    }, {
        status: "Pickup Attempted",
        value: "PICKUPATTEMPTED",
        selected: !1
    }, {
        status: "Deliver Attempted",
        value: "DELIVERYATTEMPTED",
        selected: !1
    }, {
        status: "Cancelled",
        value: "CANCELLED",
        selected: !1
    }, {
        status: "Rejected",
        value: "REJECTED",
        selected: !1
    } ], c = [ {
        status: "All",
        value: "ALL"
    }, {
        status: "Checked-In",
        value: "ONLY_CHECKEDIN"
    }, {
        status: "Not Checked-In",
        value: "NOT_CHECKEDIN"
    }, {
        status: "CheckedIn & CheckedOut",
        value: "CHECKEDIN_AND_CHECKEDOUT"
    } ], d = [ {
        value: "00 AM - 06 AM ",
        time: {
            start_time: 1,
            end_time: 6
        }
    }, {
        value: "06 AM - 12 PM",
        time: {
            start_time: 6,
            end_time: 12
        }
    }, {
        value: "12 PM - 06 PM",
        time: {
            start_time: 12,
            end_time: 18
        }
    }, {
        value: "06 PM - 12 AM",
        time: {
            start_time: 18,
            end_time: 23
        }
    } ], e = {
        v1baseUrl: "/api/v1/",
        v2baseUrl: "/api/v2/",
        v3baseUrl: "/api/v3/",
        userRole: {
            OPS: "operations",
            VENDOR: "vendor",
            HR: "hr",
            OPS_MANAGER: "operations_manager",
            ACCOUNTS: "accounts",
            SALES: "sales",
            SALES_MANAGER: "sales_manager"
        },
        status: b,
        time: d,
        dg_status: c,
        permissible_tabs: a,
        ACCESS_KEY: "AKIAJTRSKA2PKKWFL5PA",
        SECRET_KEY: "grJpBB1CcH8ShN6g88acAkDjvklYdgX7OENAx4g/",
        S3_BUCKET: "yourguy-pod"
    };
    angular.module("ygVendorApp").constant("constants", e);
}(), function() {
    "use strict";
    var a = function(a, b) {
        var c = {
            OK: 200,
            UNAUTHORIZED: 401,
            FORBIDDEN: 403,
            hasRole: function(d) {
                var e = a.defer();
                return b.then(function(a) {
                    a.$hasRole(d) ? e.resolve(c.OK) : a.$isAnonymous() ? e.reject(c.UNAUTHORIZED) : e.reject(c.FORBIDDEN);
                }), e.promise;
            },
            hasAnyRole: function(d) {
                var e = a.defer();
                return b.then(function(a) {
                    a.$hasAnyRole(d) ? e.resolve(c.OK) : a.$isAnonymous() ? e.reject(c.UNAUTHORIZED) : e.reject(c.FORBIDDEN);
                }), e.promise;
            },
            isAuthenticated: function() {
                var d = a.defer();
                return b.then(function(a) {
                    a.$isAuthenticated() ? d.resolve(c.Ok) : d.reject(c.UNAUTHORIZED);
                }), d.promise;
            },
            isAnonymous: function() {
                var d = a.defer();
                return b.then(function(a) {
                    a.$isAnonymous() ? d.resolve(c.OK) : d.reject(c.FORBIDDEN);
                }), d.promise;
            }
        };
        return c;
    };
    angular.module("ygVendorApp").factory("Access", [ "$q", "UserProfile", a ]);
}(), function() {
    "use strict";
    var a = function(a, b) {
        return {
            dg: a(b.v3baseUrl + "deliveryguy/:id/", {
                id: "@id"
            }, {
                query: {
                    method: "GET",
                    isArray: !0
                },
                $update: {
                    url: b.v3baseUrl + "deliveryguy/:id/edit_dg_details/",
                    method: "PUT"
                },
                attendance: {
                    url: b.v3baseUrl + "deliveryguy/:id/attendance/",
                    method: "PUT"
                },
                associated_dgs: {
                    url: b.v3baseUrl + "deliveryguy/:id/tl_associated_dgs/",
                    method: "GET"
                },
                promoteToTL: {
                    url: b.v3baseUrl + "deliveryguy/:id/promote_to_teamlead/",
                    method: "PUT"
                }
            }),
            dgPageQuery: a(b.v3baseUrl + "deliveryguy/:id/", {
                id: "@id"
            }, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            }),
            dgTeamLeadQuery: a(b.v3baseUrl + "deliveryguy/teamleads/", {}, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            }),
            dgOpsManagerQuery: a(b.v3baseUrl + "deliveryguy/ops_executives/", {}, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            }),
            dgServicablePincodes: a(b.v3baseUrl + "servicible_pincodes/", {}, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            }),
            dgsAttendance: a(b.v3baseUrl + "deliveryguy/download_attendance/", {}, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            })
        };
    };
    angular.module("ygVendorApp").factory("DeliveryGuy", [ "$resource", "constants", a ]);
}(), function() {
    "use strict";
    var a = function(a, b) {
        return {
            getOrders: a(b.v3baseUrl + "order/:id/", {
                id: "@id"
            }, {
                query: {
                    method: "GET",
                    isArray: !1
                }
            }),
            assignOrders: a(b.v3baseUrl + "order/assign_orders/", {}, {
                assign: {
                    method: "PUT"
                }
            }),
            updatePickup: a(b.v3baseUrl + "order/:id/picked_up/", {
                id: "@id"
            }, {
                update: {
                    method: "PUT"
                }
            }),
            updateDelivered: a(b.v3baseUrl + "order/:id/delivered/", {
                id: "@id"
            }, {
                update: {
                    method: "PUT"
                }
            })
        };
    };
    angular.module("ygVendorApp").factory("Order", [ "$resource", "constants", a ]);
}(), function() {
    "use strict";
    var a = function(a, b) {
        return a(b.v3baseUrl + "profile/", {}, {
            profile: {
                method: "GET",
                transformResponse: function(a, b) {
                    var c = angular.fromJson(a);
                    return c.payload ? (c.payload.data.is_authenticated = c.success, c.payload.data) : c;
                }
            }
        });
    };
    angular.module("ygVendorApp").factory("Profile", [ "$resource", "constants", a ]);
}(), function() {
    "use strict";
    var a = function(a, b) {
        return a(b.v3baseUrl + "vendor/:id/", {
            id: "@id"
        }, {
            profile: {
                method: "GET"
            },
            query: {
                method: "GET",
                isArray: !1
            }
        });
    };
    angular.module("ygVendorApp").factory("Vendor", [ "$resource", "constants", a ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d) {
        var e = {
            responseError: function(e) {
                e.data.error && (d.errorMessage = e.data.error.message);
                var f = a.defer();
                return 401 === e.status || 403 === e.status ? (b.$reset(), c.path("/login")) : 500 === e.status && (d.errorMessage = "Something Went Wrong"), 
                d.$broadcast("errorOccured"), f.reject(e), f.promise;
            }
        };
        return e;
    }, b = function(a, b, c, d) {
        a.$on("$stateChangeError", function(a, e, f, g, h, i) {
            angular.element(d[0].getElementsByClassName("request-loader")).addClass("request-loader-hidden"), 
            i == b.UNAUTHORIZED ? c.go("login") : i == b.FORBIDDEN && c.go("forbidden");
        }), a.$on("$stateChangeStart", function(a, b, c, e, f) {
            angular.element(d[0].getElementsByClassName("request-loader")).removeClass("request-loader-hidden");
        }), a.$on("$stateChangeSuccess", function(b, c, e, f, g) {
            a.previousState = {
                state: f.name,
                params: g
            }, angular.element(d[0].getElementsByClassName("request-loader")).addClass("request-loader-hidden");
        });
    };
    angular.module("ygVendorApp").factory("errorHandler", [ "$q", "$localStorage", "$location", "$rootScope", a ]).config([ "$httpProvider", function(a) {
        a.interceptors.push("errorHandler");
    } ]).run([ "$rootScope", "Access", "$state", "$document", b ]);
}(), function() {
    "use strict";
    var a = function(a, b) {
        return {
            isAvailable: function() {
                return !(!a.previousState.state || "" === a.previousState.state);
            },
            redirectToPrevious: function() {
                b.go(a.previousState.state, a.previousState.params);
            }
        };
    };
    angular.module("ygVendorApp").factory("PreviousState", [ "$rootScope", "$state", a ]);
}(), function() {
    "use strict";
    var a = function(a) {
        var b = {
            request: function(b) {
                return b.headers = b.headers || {}, a.token && (b.headers.Authorization = "Token " + a.token), 
                b;
            }
        };
        return b;
    };
    angular.module("ygVendorApp").factory("tokenInjector", [ "$localStorage", a ]).config([ "$httpProvider", function(a) {
        a.interceptors.push("tokenInjector");
    } ]);
}(), function() {
    "use strict";
    var a = function(a, b, c) {
        var d = {}, e = function() {
            var f = a.defer();
            return c.profile(function(a) {
                d.hasOwnProperty("role") && delete d.role, d.hasOwnProperty("name") && delete d.name, 
                d.hasOwnProperty("is_authenticated") && delete d.is_authenticated, f.resolve(angular.extend(d, a, {
                    $refresh: e,
                    $getUsername: function() {
                        return d.name;
                    },
                    $getUserRole: function() {
                        return d.role;
                    },
                    $clearUserRole: function() {
                        return b.$resetUserRole();
                    },
                    $hasRole: function(a) {
                        return d.role === a;
                    },
                    $hasAnyRole: function(a) {
                        return a.indexOf(d.role) >= 0;
                    },
                    $isAuthenticated: function() {
                        return d.is_authenticated;
                    },
                    $isAnonymous: function() {
                        return !d.is_authenticated;
                    }
                }));
            }, function(a) {
                d = {}, f.resolve(angular.extend(d, {
                    $refresh: e,
                    $clearUserRole: function() {
                        return b.$resetUserRole();
                    },
                    $hasRole: function(a) {
                        return d.role == a;
                    },
                    $hasAnyRole: function(a) {
                        return a.indexOf(d.role) >= 0;
                    },
                    $isAuthenticated: function() {
                        return d.is_authenticated;
                    },
                    $isAnonymous: function() {
                        return !d.is_authenticated;
                    }
                }));
            }), f.promise;
        };
        return e();
    };
    angular.module("ygVendorApp").factory("UserProfile", [ "$q", "role", "Profile", a ]);
}(), function() {
    "use strice";
    var a = function(a, b) {
        var c = {
            userrole: "anonymous",
            authenticated: !1,
            $resetUserRole: function() {
                return b.$reset(), userrole = "anonymous", authenticated = !1, {
                    userrole: userrole,
                    is_authenticated: authenticated
                };
            },
            $setUserRole: function(a) {
                a ? (userrole = a, authenticated = !0) : (userrole = "anonymous", authenticated = !1);
            },
            $getUserRole: function() {
                return {
                    userrole: userrole,
                    is_authenticated: authenticated
                };
            }
        };
        return c;
    };
    angular.module("ygVendorApp").factory("role", [ "$base64", "$localStorage", a ]);
}(), function() {
    "use strict";
    var a = function() {
        return {
            scope: {
                workbookData: "="
            },
            restrict: "AE",
            link: function(a, b, c, d) {
                var e = function() {
                    alasql('SELECT * INTO XLSX("orders.xlsx",{headers:true}) FROM ?', [ a.workbookData ]);
                };
                b.bind("click", e);
            }
        };
    };
    angular.module("ygVendorApp").directive("ydExcelDownload", a);
}(), function() {
    "use strict";
    angular.module("ygVendorApp").directive("ydPagination", [ function() {
        return {
            scope: {
                total: "@",
                totalPage: "@",
                params: "=",
                listLength: "@",
                paginate: "=",
                pending: "@?",
                unassigned: "@?",
                getData: "&"
            },
            restrict: "AE",
            link: function(a, b, c, d) {
                a.orderFrom = 50 * (a.params.page - 1) + 1, a.orderTo = a.orderFrom - 1 + parseInt(a.listLength), 
                a.pageRange = function() {
                    return new Array(parseInt(a.totalPage));
                };
            },
            template: [ '<div class="ydPagination" layout="row" layout-align="start center">', '<div class="stats" layout="row">', '<p ng-if="pending"> <span class="pending-text">Pending: </span><span class="pending">{{pending}}</span> </p>', '<p ng-if="unassigned"><span class="unassigned-text">Unassigned: </span><span class="unassigned">{{unassigned}}</span> </p>', "<p>Total: {{total}} </p>", "</div>", "<span flex></span>", '<div class="pagination" layout="row" layout-align="start center">', "<p>Page:</p>", '<md-input-container class="md-accent">', '<md-select class="md-warn" ng-model="params.page" ng-change="getData()" aria-label="page select">', '<md-option class="md-accent" ng-repeat="page in pageRange() track by $index" value="{{$index + 1}}">{{$index + 1}}</md-option>', "</md-select>", "</md-input-container>", "</div>", '<div class="pagination hide-xs" layout="row" layout-align="start center">', "<p>{{orderFrom}} -- {{orderTo}} of {{total}}</p>", "</div>", '<div class="page-navigation">', '<md-button ng-disabled="params.page == 1" ng-click="paginate.previouspage();" class="md-icon-button md-primary" aria-label="Menu Icon">', "<md-icon>arrow_backward</md-icon>", "</md-button>", '<md-button ng-disabled="params.page == totalPage" ng-click="paginate.nextpage();" class="md-icon-button md-primary" aria-label="Menu Icon">', "<md-icon>arrow_forward</md-icon>", "</md-button>", "</div>", "</div>" ].join("")
        };
    } ]);
}(), function() {
    "use strict";
    var a = function(a) {
        console.log("vendor");
    };
    angular.module("order", []).config([ "$stateProvider", function(a) {
        a.state("home.opsorder", {
            url: "^/all-orders?date&vendor_id&dg_username&order_status&page&start_time&end_time&is_cod&search&delivery_ids&pincodes&is_retail",
            templateUrl: "/static/modules/order/list/list.html",
            controllerAs: "opsOrder",
            controller: "opsOrderCntrl",
            resolve: {
                DeliveryGuy: "DeliveryGuy",
                access: [ "Access", "constants", function(a, b) {
                    var c = [ b.userRole.OPS, b.userRole.OPS_MANAGER, b.userRole.SALES, b.userRole.SALES_MANAGER ];
                    return a.hasAnyRole(c);
                } ],
                orders: [ "Order", "$stateParams", function(a, b) {
                    return b.date = void 0 !== b.date ? new Date(b.date).toISOString() : new Date().toISOString(), 
                    b.page = isNaN(b.page) ? 1 : parseInt(b.page), b.is_cod = "true" == b.is_cod ? Boolean(b.is_cod) : null, 
                    b.is_retail = "true" == b.is_retail ? Boolean(b.is_retail) : null, Array.isArray(b.order_status) && (b.order_status = b.order_status.length > 0 ? b.order_status.toString() : null), 
                    Array.isArray(b.pincodes) && (b.pincodes = b.pincodes.length > 0 ? b.pincodes.toString() : null), 
                    a.getOrders.query(b).$promise;
                } ],
                Pincodes: [ "DeliveryGuy", function(a) {
                    return a.dgServicablePincodes.query().$promise;
                } ]
            }
        }).state("home.orderDetail", {
            url: "^/order/detail/:id",
            templateUrl: "/static/modules/order/detail/detail.html",
            controllerAs: "orderDetail",
            controller: "orderDetailCntrl",
            resolve: {
                access: [ "Access", "constants", function(a, b) {
                    var c = [ b.userRole.OPS, b.userRole.OPS_MANAGER, b.userRole.SALES, b.userRole.SALES_MANAGER, b.userRole.VENDOR ];
                    return a.hasAnyRole(c);
                } ],
                order: [ "Order", "$stateParams", function(a, b) {
                    return a.getOrders.query(b).$promise;
                } ]
            }
        }).state("home.order", {
            url: "^/orders",
            templateUrl: "/static/modules/order/vendorOrders.html",
            controllerAs: "order",
            controller: "vendorOrderCntrl",
            resolve: {
                access: [ "Access", "constants", function(a, b) {
                    return a.hasRole(b.userRole.VENDOR);
                } ]
            }
        });
    } ]).controller("vendorOrderCntrl", [ "$state", a ]);
}(), function() {
    "use strict";
    function a(a, b) {
        var c = this;
        this.assignment_data = {
            pickup: {
                dg_id: null,
                assignment_type: "pickup"
            },
            delivery: {
                dg_id: null,
                assignment_type: "delivery"
            }
        }, this.cancel = function() {
            a.cancel();
        }, this.answer = function(b) {
            a.hide(b);
        }, this.dgSearchTextChange = function(a) {
            var c = {
                search: a
            };
            return b.dgPageQuery.query(c).$promise.then(function(a) {
                return a.payload.data.data;
            });
        }, this.pickupDgChange = function(a) {
            a ? c.assignment_data.pickup.dg_id = a.id : c.assignment_data.pickup.dg_id = void 0;
        }, this.deliveryDgChange = function(a) {
            a ? c.assignment_data.delivery.dg_id = a.id : c.assignment_data.delivery.dg_id = void 0;
        };
    }
    var b = function(b, c, d) {
        return {
            openDgDialog: function() {
                var d = b("sm") || b("xs");
                return c.show({
                    controller: [ "$mdDialog", "DeliveryGuy", a ],
                    controllerAs: "assignDG",
                    templateUrl: "/static/modules/order/dialogs/assign-dg.html?nd=" + Date.now(),
                    parent: angular.element(document.body),
                    clickOutsideToClose: !1,
                    fullscreen: d,
                    openFrom: "#options",
                    closeTo: "#options"
                });
            }
        };
    };
    angular.module("order").factory("orderDgAssign", [ "$mdMedia", "$mdDialog", "DeliveryGuy", b ]);
}(), function() {
    "use strict";
    var a = function() {
        return a;
    };
    angular.module("order").factory("orderFilter", [ a ]);
}(), function() {
    "use strict";
    var a = function() {
        var a = {
            selectedItemArray: [],
            toggle: function(b) {
                var c = a.selectedItemArray.indexOf(b);
                c > -1 ? a.selectedItemArray.splice(c, 1) : a.selectedItemArray.push(b);
            },
            exists: function(b) {
                return a.selectedItemArray.indexOf(b) > -1;
            },
            addItem: function(b) {
                b.selected = !0, a.selectedItemArray.push(b);
            },
            removeItem: function(b) {
                var c = selectedItemArray.indexOf(b);
                return c > -1 ? (b.selected = !1, a.selectedItemArray.splice(c, 1), !0) : !1;
            },
            isSelected: function() {
                return a.selectedItemArray.length > 0;
            },
            clearAll: function() {
                return a.selectedItemArray = [], a.selectedItemArray;
            },
            slectedItemLength: function() {
                return a.selectedItemArray.length;
            },
            getAllItemsIds: function() {
                var b = [];
                return a.selectedItemArray.forEach(function(a) {
                    b.push(a.id);
                }), b;
            }
        };
        return a;
    };
    angular.module("order").factory("orderSelection", [ a ]);
}(), function() {
    "use strict";
    function a(a) {
        this.pickup = {
            isPickup: !0,
            data: {
                pickup_attempted: !1,
                delivery_remarks: null
            }
        }, this.delivery = {
            isPickup: !1,
            data: {
                delivered_at: null,
                delivery_attempted: !1,
                delivery_remarks: null,
                cod_collected_amount: null
            }
        }, this.cancel = function() {
            a.cancel();
        }, this.updatePickupAttempted = function(b) {
            b.data.pickup_attempted = !0, a.hide(b);
        }, this.updatePickup = function(b) {
            b.data.pickup_attempted = !1, a.hide(b);
        }, this.updateDeliveryAttempted = function(b) {
            b.data.delivery_attempted = !0, a.hide(b);
        }, this.updateDelivery = function(b) {
            b.data.delivery_attempted = !1, a.hide(b);
        };
    }
    var b = function(b, c) {
        return {
            openStatusDialog: function() {
                var d = b("sm") || b("xs");
                return c.show({
                    controller: [ "$mdDialog", a ],
                    controllerAs: "statusUpdate",
                    templateUrl: "/static/modules/order/dialogs/status-update.html?nd=" + Date.now(),
                    parent: angular.element(document.body),
                    clickOutsideToClose: !1,
                    fullscreen: d,
                    openFrom: "#options",
                    closeTo: "#options"
                });
            }
        };
    };
    angular.module("order").factory("OrderStatusUpdate", [ "$mdMedia", "$mdDialog", b ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
        var p = this;
        this.params = e, this.params.order_status = e.order_status ? e.order_status.split(",") : [], 
        this.params.pincodes = e.pincodes ? e.pincodes.split(",") : [], this.params.date = new Date(this.params.date), 
        this.searchedDg = this.params.dg_username, this.searchVendor = this.params.vendor_id, 
        this.searchOrderActive = void 0 !== this.params.search, this.orders = i.payload.data.data, 
        this.orderFrom = 50 * (this.params.page - 1) + 1, this.orderTo = this.orderFrom - 1 + i.payload.data.data.length, 
        this.total_pages = i.payload.data.total_pages, this.total_orders = i.payload.data.total_orders, 
        this.pending_orders_count = i.payload.data.pending_orders_count, this.unassigned_orders_count = i.payload.data.unassigned_orders_count, 
        this.pincodes = l.payload.data, this.status_list = j.status, this.time_list = j.time, 
        this.backFromSearch = function() {
            p.params.search = void 0, p.searchOrderActive = !1, p.getOrders();
        }, this.toggleFilter = function() {
            b("order-filter").toggle();
        }, this.pageRange = function(a) {
            return new Array(a);
        }, this.paginate = {
            nextpage: function() {
                p.params.page = p.params.page + 1, p.getOrders();
            },
            previouspage: function() {
                p.params.page = p.params.page - 1, p.getOrders();
            }
        }, this.statusSelection = {
            toggle: function(a, b) {
                var c = b.indexOf(a.value);
                c > -1 ? b.splice(c, 1) : b.push(a.value);
            },
            exists: function(a, b) {
                return b.indexOf(a.value) > -1;
            }
        }, this.pincodesSelection = {
            toggle: function(a, b) {
                var c = b.indexOf(a.pincode);
                c > -1 ? b.splice(c, 1) : b.push(a.pincode);
            },
            exists: function(a, b) {
                return b.indexOf(a.pincode) > -1;
            }
        }, this.dgSearchTextChange = function(a) {
            var b = {
                search: a
            };
            return f.dgPageQuery.query(b).$promise.then(function(a) {
                return a.payload.data.data;
            });
        }, this.selectedDgChange = function(a) {
            a ? p.params.dg_username = a.phone_number : p.params.dg_username = void 0;
        }, this.vendorSearchTextChange = function(a) {
            var b = {
                search: a
            };
            return h.query(b).$promise.then(function(a) {
                return a.payload.data.data;
            });
        }, this.selectedVendorChange = function(a) {
            a ? p.params.vendor_id = a.id : p.params.vendor_id = void 0;
        }, this.handleOrdeSelection = {
            selectActive: k.isSelected(),
            numberOfSelectedOrder: k.slectedItemLength(),
            update: function() {
                p.handleOrdeSelection.selectActive = k.isSelected(), p.handleOrdeSelection.numberOfSelectedOrder = k.slectedItemLength();
            },
            toggle: function(a) {
                k.toggle(a), p.handleOrdeSelection.update();
            },
            exists: function(a) {
                return k.exists(a);
            },
            clear: function() {
                k.clearAll(), p.handleOrdeSelection.update();
            }
        }, p.assignDg = function() {
            n.openDgDialog().then(function(a) {
                a.pickup.delivery_ids = k.getAllItemsIds(), a.delivery.delivery_ids = k.getAllItemsIds(), 
                p.assignOrders(a);
            });
        }, p.assignDgForSingleOrder = function(a) {
            n.openDgDialog().then(function(b) {
                b.pickup.delivery_ids = [ a.id ], b.delivery.delivery_ids = [ a.id ], p.assignOrders(b);
            });
        }, p.assignOrders = function(a) {
            var b = [];
            a.pickup.dg_id && b.push(g.assignOrders.assign(a.pickup).$promise), a.delivery.dg_id && b.push(g.assignOrders.assign(a.delivery).$promise), 
            m.all(b).then(function(a) {
                k.clearAll(), p.getOrders();
            });
        }, this.statusUpdateForSingleDialog = function(a) {
            o.openStatusDialog().then(function(b) {
                b.delivery_ids = [ a.id ], b.isPickup ? p.updatePickupStatus(b) : p.updateDeliveryStatus(b);
            });
        }, this.statusUpdateDialog = function() {
            o.openStatusDialog().then(function(a) {
                a.delivery_ids = k.getAllItemsIds(), a.isPickup ? p.updatePickupStatus(a) : p.updateDeliveryStatus(a);
            });
        }, p.updatePickupStatus = function(a) {
            for (var b = [], c = 0; c < a.delivery_ids.length; c++) a.data.id = a.delivery_ids[c], 
            b.push(g.updatePickup.update(a.data).$promise);
            m.all(b).then(function(a) {
                k.clearAll(), p.getOrders();
            });
        }, p.updateDeliveryStatus = function(a) {
            for (var b = [], c = 0; c < a.delivery_ids.length; c++) a.data.id = a.delivery_ids[c], 
            b.push(g.updateDelivered.update(a.data).$promise);
            m.all(b).then(function(a) {
                k.clearAll(), p.getOrders();
            });
        }, this.revertOrSelect = function(b) {
            k.isSelected() ? p.handleOrdeSelection.toggle(b) : a.go("home.orderDetail", {
                id: b.id
            });
        }, this.getOrders = function() {
            a.transitionTo(a.current, p.params, {
                reload: !0,
                inherit: !1,
                notify: !0
            });
        };
    };
    angular.module("order").controller("opsOrderCntrl", [ "$state", "$mdSidenav", "$mdDialog", "$mdMedia", "$stateParams", "DeliveryGuy", "Order", "Vendor", "orders", "constants", "orderSelection", "Pincodes", "$q", "orderDgAssign", "OrderStatusUpdate", a ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d, e, f, g, h, i, j, k) {
        function l(a, b) {
            var c, d, e = new Image();
            e.src = "data:image/png;base64," + a, e.onload = function() {
                var a = document.createElement("canvas"), f = a.getContext("2d");
                e.width >= e.height ? (c = 1024, d = 768) : (c = 768, d = 1024), f.canvas.width = c, 
                f.canvas.height = d, f.drawImage(e, 0, 0, e.width, e.height, 0, 0, c, d);
                var g = document.createElement("a"), h = document.createEvent("HTMLEvents");
                h.initEvent("click"), g.href = a.toDataURL(), g.download = b + ".png", g.dispatchEvent(h);
            };
        }
        function m(a) {
            for (var b = k.defer(), c = "", d = new Uint8Array(a.Body), e = 0, f = d.length; f > e; e++) c += String.fromCharCode(d[e]);
            var g = window.btoa(c);
            return g ? b.resolve(g) : b.reject("error creating base64 data"), b.promise;
        }
        function n(a, b) {
            o.getObject({
                Bucket: j.S3_BUCKET,
                Key: a.Key
            }, function(c, d) {
                if (c) b(c); else {
                    var e = m(d);
                    e.then(function(c) {
                        l(c, a.Key), b();
                    }, function(a) {
                        b(a);
                    });
                }
            });
        }
        var o = new AWS.S3(), p = this;
        p.params = b, p.order = d.payload.data, console.log(p.param);
        var q = function() {
            var a = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
            if (a) {
                var b = window.open("");
                return null === b || void 0 === typeof b;
            }
            return !1;
        };
        p.goBack = function() {
            i.isAvailable() ? i.redirectToPrevious() : a.go("home.opsorder");
        }, p.downloadPop = function() {
            var a = {
                Bucket: j.S3_BUCKET,
                Prefix: p.param.id + "/" + p.order.pickedup_datetime.slice(0, 10) + "/pop"
            };
            p.download_image(a);
        }, p.downloadPod = function() {
            var a = {
                Bucket: j.S3_BUCKET,
                Prefix: p.param.id + "/" + p.order.pickedup_datetime.slice(0, 10) + "/pod"
            };
            p.download_image(a);
        }, p.download_image = function(a) {
            o.listObjects(a, function(a, b) {
                if (a) c.errorMessage = "", c.$broadcast("errorOccured"); else {
                    if (0 === b.Contents.length) return c.errorMessage = "No Proof Found", void c.$broadcast("errorOccured");
                    if (q()) return c.errorMessage = "To view the proofs! \nOption 1: Go to Safari —> Preferences —> Security —>  Block popup windows (Disable)\nOption 2: Use Chrome browser to download the images", 
                    void c.$broadcast("errorOccured");
                    async.map(b.Contents, n, function(a, b) {
                        a ? (c.errorMessage = a, c.$broadcast("errorOccured")) : console.log(b);
                    });
                }
            });
        }, p.assignDgForSingleOrder = function(a) {
            g.openDgDialog().then(function(b) {
                b.pickup.delivery_ids = [ a.id ], b.delivery.delivery_ids = [ a.id ], p.assignOrders(b);
            });
        }, p.assignOrders = function(a) {
            var b = [];
            a.pickup.dg_id && b.push(f.assignOrders.assign(a.pickup).$promise), a.delivery.dg_id && b.push(f.assignOrders.assign(a.delivery).$promise), 
            k.all(b).then(function(a) {
                p.getOrder();
            });
        }, p.updatePickupStatus = function(a) {
            for (var b = [], c = 0; c < a.delivery_ids.length; c++) a.data.id = a.delivery_ids[c], 
            b.push(f.updatePickup.update(a.data).$promise);
            k.all(b).then(function(a) {
                p.getOrder();
            });
        }, p.updateDeliveryStatus = function(a) {
            for (var b = [], c = 0; c < a.delivery_ids.length; c++) a.data.id = a.delivery_ids[c], 
            b.push(f.updateDelivered.update(a.data).$promise);
            k.all(b).then(function(a) {
                p.getOrder();
            });
        }, p.statusUpdateDialog = function(a) {
            h.openStatusDialog().then(function(b) {
                b.delivery_ids = [ a.id ], b.isPickup ? p.updatePickupStatus(b) : p.updateDeliveryStatus(b);
            });
        }, p.getOrder = function() {
            a.transitionTo(a.current, p.params, {
                reload: !0,
                inherit: !1,
                notify: !0
            });
        };
    };
    angular.module("order").controller("orderDetailCntrl", [ "$state", "$stateParams", "$rootScope", "order", "DeliveryGuy", "Order", "orderDgAssign", "OrderStatusUpdate", "PreviousState", "constants", "$q", a ]);
}(), function() {
    "use strict";
    angular.module("deliveryguy", []).config([ "$stateProvider", function(a) {
        a.state("home.dgList", {
            url: "^/deliveryguy/list?date&attendance&search&page",
            templateUrl: "/static/modules/deliveryguy/list/list.html",
            controllerAs: "dgList",
            controller: "dgListCntrl",
            resolve: {
                DeliveryGuy: "DeliveryGuy",
                access: [ "Access", "constants", function(a, b) {
                    var c = [ b.userRole.OPS, b.userRole.OPS_MANAGER, b.userRole.SALES, b.userRole.SALES_MANAGER, b.userRole.HR ];
                    return a.hasAnyRole(c);
                } ],
                dgs: [ "DeliveryGuy", "$stateParams", function(a, b) {
                    return b.date = void 0 !== b.date ? new Date(b.date).toISOString() : new Date().toISOString(), 
                    b.attendance = void 0 !== b.attendance ? b.attendance : "ALL", b.page = isNaN(b.page) ? 1 : parseInt(b.page), 
                    a.dgPageQuery.query(b).$promise;
                } ]
            }
        }).state("home.dgCreate", {
            url: "^/deliveryguy/create",
            templateUrl: "/static/modules/deliveryguy/create/create.html",
            controllerAs: "dgCreate",
            controller: "dgCreateCntrl",
            resolve: {
                DeliveryGuy: "DeliveryGuy",
                access: [ "Access", "constants", function(a, b) {
                    return a.hasRole(b.userRole.HR);
                } ],
                leadUserList: [ "DeliveryGuy", "$q", function(a, b) {
                    return b.all({
                        TeamLead: a.dgTeamLeadQuery.query().$promise,
                        OpsManager: a.dgOpsManagerQuery.query().$promise
                    });
                } ]
            }
        }).state("home.dgDetail", {
            url: "^/deliveryguy/detail/:id",
            templateUrl: "/static/modules/deliveryguy/detail/detail.html",
            controllerAs: "dgDetail",
            controller: "dgDetailCntrl",
            resolve: {
                DeliveryGuy: "DeliveryGuy",
                access: [ "Access", "constants", function(a, b) {
                    var c = [ b.userRole.OPS, b.userRole.OPS_MANAGER, b.userRole.SALES, b.userRole.SALES_MANAGER, b.userRole.HR ];
                    return a.hasAnyRole(c);
                } ],
                DG: [ "DeliveryGuy", "$stateParams", function(a, b) {
                    new a.dg();
                    return a.dg.get(b).$promise;
                } ],
                leadUserList: [ "DeliveryGuy", "$q", function(a, b) {
                    return b.all({
                        TeamLead: a.dgTeamLeadQuery.query().$promise,
                        OpsManager: a.dgOpsManagerQuery.query().$promise
                    });
                } ]
            }
        });
    } ]);
}(), function() {
    "use strict";
    var a = {
        shift_timings: [ {
            start_time: "06:00:00",
            end_time: "15:00:00"
        }, {
            start_time: "07:00:00",
            end_time: "16:00:00"
        }, {
            start_time: "09:00:00",
            end_time: "18:00:00"
        }, {
            start_time: "10:00:00",
            end_time: "19:00:00"
        }, {
            start_time: "10:30:00",
            end_time: "19:30:00"
        }, {
            start_time: "11:00:00",
            end_time: "20:00:00"
        }, {
            start_time: "13:00:00",
            end_time: "22:00:00"
        }, {
            start_time: "14:00:00",
            end_time: "23:00:00"
        } ],
        transportation_mode: [ {
            key: "Biker",
            value: "BIKER"
        }, {
            key: "Walker",
            value: "WALKER"
        }, {
            key: "Car Driver",
            value: "CAR_DRIVER"
        } ]
    };
    angular.module("deliveryguy").constant("dgConstants", a);
}(), function() {
    "use strict";
    var a = function(a) {
        return function(a) {
            if (a) {
                var b = a.split(":");
                return moment().hour(b[0]).minute(b[1]).format("hh:mm A");
            }
            return !1;
        };
    };
    angular.module("deliveryguy").filter("timeAsDate", [ "$filter", a ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d, e, f) {
        var g = this;
        this.params = c, this.params.date = new Date(this.params.date), this.dg_status = e.dg_status, 
        this.searchDgActive = void 0 !== this.params.search, this.dgs = d.payload.data.data, 
        this.total_pages = d.payload.data.total_pages, this.total_dgs = d.payload.data.total_dg_count, 
        this.toggleFilter = function() {
            b("dgList-filter").toggle();
        }, this.paginate = {
            nextpage: function() {
                g.params.page = g.params.page + 1, g.getDgs();
            },
            previouspage: function() {
                g.params.page = g.params.page - 1, g.getDgs();
            }
        }, this.backFromSearch = function() {
            g.params.search = void 0, g.searchDgActive = !1, g.getDgs();
        }, this.downloadAttendance = function() {
            var a = {
                start_date: moment(g.params.date).format(),
                end_date: moment(g.params.date).format()
            };
            f.dgsAttendance.query(a, function(a) {
                alasql.fn.IsoToDate = function(a) {
                    return moment(a).format("DD-MM-YYYY");
                };
                var b = "SELECT name AS Name,IsoToDate(attendance -> 0 -> date) AS Date,attendance -> 0 -> worked_hrs AS Hours";
                alasql(b + ' INTO XLSX("attendance.xlsx",{headers:true}) FROM ?', [ a.payload.data ]);
            });
        }, this.getDgs = function() {
            a.transitionTo(a.current, g.params, {
                reload: !0,
                inherit: !1,
                notify: !0
            });
        };
    };
    angular.module("deliveryguy").controller("dgListCntrl", [ "$state", "$mdSidenav", "$stateParams", "dgs", "constants", "DeliveryGuy", a ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d, e, f) {
        var g = this;
        g.shift_timings = c.shift_timings, g.transportation_mode = c.transportation_mode, 
        g.OpsManagers = e.OpsManager.payload.data, g.TeamLeads = e.TeamLead.payload.data, 
        g.dg = new d.dg(), g.goBack = function() {
            f.isAvailable() ? f.redirectToPrevious() : a.go("home.dgList");
        }, g.create = function() {
            g.dg.shift_timing = angular.fromJson(g.dg.shift_timing), g.dg.$save(function() {
                g.goBack();
            });
        };
    };
    angular.module("deliveryguy").controller("dgCreateCntrl", [ "$state", "$mdSidenav", "dgConstants", "DeliveryGuy", "leadUserList", "PreviousState", a ]);
}(), function() {
    "use strict";
    function a(a, b, c, d, e) {
        var f = this;
        f.DG = c, f.DG.team_lead_dg_ids = [], f.DG.ops_manager_ids = [], f.DG.team_leads.forEach(function(a) {
            a.dg_id && f.DG.team_lead_dg_ids.push(a.dg_id);
        }), f.DG.ops_managers.forEach(function(a) {
            f.DG.ops_manager_ids.push(a.employee_id);
        }), f.OpsManagers = d, f.TeamLeads = e, f.shift_timings = b.shift_timings, f.transportation_mode = b.transportation_mode, 
        f.cancel = function() {
            a.cancel();
        }, f.answer = function(b) {
            a.hide(b);
        };
    }
    function b(a, b, c) {
        var d = this;
        d.DG = b, d.selectedTeamMembers = [], d.selectedPincodes = [], d.teamLeadData = {
            id: b.id,
            pincodes: [],
            associate_dgs: []
        }, d.cancel = function() {
            a.cancel();
        }, c.dgServicablePincodes.query().$promise.then(function(a) {
            d.pincodes = a.payload.data;
        }), d.addTeamDgs = function(a) {
            d.teamLeadData.associate_dgs.push(a.id);
        }, d.removeTeamDgs = function(a) {
            var b = d.teamLeadData.associate_dgs.indexOf(a.id);
            d.teamLeadData.associate_dgs.splice(b, 1);
        }, d.addTlPincode = function(a) {
            d.teamLeadData.pincodes.push(a.pincode);
        }, d.removeTlPincode = function(a) {
            var b = d.teamLeadData.pincodes.indexOf(a.pincode);
            d.teamLeadData.pincodes.splice(b, 1);
        }, d.dgSearch = function(a) {
            var b = {
                search: a
            };
            return c.dgPageQuery.query(b).$promise.then(function(a) {
                return a.payload.data.data;
            });
        }, d.transformChip = function(a) {
            return angular.isObject(a) ? {
                name: a.name,
                phone_number: a.phone_number,
                id: a.id
            } : void 0;
        }, d.transformPinChip = function(a) {
            return angular.isObject(a) ? a : void 0;
        }, d.submitTlData = function() {
            a.hide(d.teamLeadData);
        };
    }
    var c = function(c, d, e, f, g, h, i, j, k) {
        var l = this;
        l.params = d, l.DG = j.payload.data, l.attendance_date = moment().date(1).toDate(), 
        l.attendanceMinDate = moment("2015-01-01").toDate(), l.attendanceMaxDate = moment().toDate(), 
        l.OpsManagers = i.OpsManager.payload.data, l.TeamLeads = i.TeamLead.payload.data, 
        l.showEditDialog = function() {
            var b = f("sm") || f("xs");
            e.show({
                controller: [ "$mdDialog", "dgConstants", "DG", "OpsManagers", "TeamLeads", a ],
                controllerAs: "dgEdit",
                templateUrl: "/static/modules/deliveryguy/dialogs/edit.html",
                parent: angular.element(document.body),
                clickOutsideToClose: !1,
                fullscreen: b,
                openFrom: "#dgEditDialog",
                closeTo: "#dgEditDialog",
                locals: {
                    DG: l.DG,
                    OpsManagers: l.OpsManagers,
                    TeamLeads: l.TeamLeads
                }
            }).then(function(a) {
                a.shift_time = angular.fromJson(a.shift_time), g.dg.$update(a, function(a) {
                    l.getDgDetails();
                });
            }, function() {
                l.status = "You cancelled the dialog.";
            });
        }, l.goBack = function() {
            k.isAvailable() ? k.redirectToPrevious() : c.go("home.dgList");
        }, l.onlyMonthsPredicate = function(a) {
            var b = moment(a).date();
            return 1 === b;
        }, l.getTeamMembers = function() {
            g.dg.associated_dgs({
                id: l.DG.id
            }, function(a) {
                l.associated_dg_list = a.payload.data;
            });
        }, l.toTeamlead = function() {
            e.show({
                controller: [ "$mdDialog", "DG", "DeliveryGuy", b ],
                controllerAs: "dgTeamLead",
                templateUrl: "/static/modules/deliveryguy/dialogs/teamlead.html",
                parent: angular.element(document.body),
                clickOutsideToClose: !1,
                fullscreen: !0,
                locals: {
                    DG: l.DG
                }
            }).then(function(a) {
                l.DG.is_teamlead ? g.dg.$update(a, function(a) {
                    l.getDgDetails();
                }) : g.dg.promoteToTL(a, function(a) {
                    l.getDgDetails();
                });
            }, function() {
                l.status = "You cancelled the dialog.";
            });
        }, l.getAttendance = function() {
            var a = {
                id: l.DG.id,
                month: moment(l.attendance_date).month() + 1,
                year: moment(l.attendance_date).year()
            };
            g.dg.attendance(a, function(a) {
                l.dg_monthly_attendance = a.payload.data.attendance;
            });
        }, l.getDgDetails = function() {
            c.transitionTo(c.current, l.params, {
                reload: !0,
                inherit: !1,
                notify: !0
            });
        };
    };
    angular.module("deliveryguy").controller("dgDetailCntrl", [ "$state", "$stateParams", "$mdDialog", "$mdMedia", "DeliveryGuy", "dgConstants", "leadUserList", "DG", "PreviousState", c ]);
}(), function() {
    "use strict";
    angular.module("vendor", []).config([ "$stateProvider", function(a) {
        a.state("home.vendorList", {
            url: "^/vendor/list?date&search&page",
            templateUrl: "/static/modules/vendor/list/list.html",
            controllerAs: "vendorList",
            controller: "vendorListCntrl",
            resolve: {
                access: [ "Access", "constants", function(a, b) {
                    var c = [ b.userRole.OPS, b.userRole.OPS_MANAGER, b.userRole.SALES, b.userRole.SALES_MANAGER, b.userRole.ACCOUNTS, b.userRole.HR ];
                    return a.hasAnyRole(c);
                } ],
                vendors: [ "Vendor", "$stateParams", function(a, b) {
                    return b.date = void 0 !== b.date ? new Date(b.date).toISOString() : new Date().toISOString(), 
                    b.page = isNaN(b.page) ? 1 : parseInt(b.page), a.query(b).$promise;
                } ]
            }
        });
    } ]);
}(), function() {
    "use strict";
    var a = function(a, b, c, d) {
        var e = this;
        e.params = c, this.searchVendorActive = void 0 !== this.params.search, e.vendors = d.payload.data.data, 
        e.total_pages = d.payload.data.total_pages, e.total_vendors = d.payload.data.total_vendor_count, 
        e.paginate = {
            nextpage: function() {
                e.params.page = e.params.page + 1, e.getVendors();
            },
            previouspage: function() {
                e.params.page = e.params.page - 1, e.getVendors();
            }
        }, e.backFromSearch = function() {
            e.params.search = void 0, e.searchVendorActive = !1, e.getVendors();
        }, e.getVendors = function() {
            a.transitionTo(a.current, e.params, {
                reload: !0,
                inherit: !1,
                notify: !0
            });
        };
    };
    angular.module("vendor").controller("vendorListCntrl", [ "$state", "$mdSidenav", "$stateParams", "vendors", a ]);
}();
//# sourceMappingURL=main.min.js.map